<app-nav-bar></app-nav-bar>

<main class="portfolio-comic">
  <!-- Projects Header Section -->
  <section class="projects-header-comic">
    <div class="container">
      <div class="section-header-comic">
        <div class="pow-effect">PROJECTS!</div>
        <h1 class="page-title-comic">All Projects</h1>
        <p class="page-subtitle-comic">Explore my complete portfolio of work</p>
      </div>
    </div>
  </section>

  <!-- Projects Grid Section -->
  <section class="projects-comic">
    <div class="container">
      <div class="projects-grid-comic">
        @for (project of projects$ | async; track project.id) {
        <article class="project-panel" (click)="viewProjectDetails(project.id)">
          <div class="project-frame">
            <div class="project-image-comic">
              <img 
                [src]="project.heroImageUrl || defaultProjectImage" 
                [alt]="project.heroImageAlt || project.title"
                (error)="onImageError($event)" />
              <div class="image-overlay">
                <div class="project-status-badge" [class]="project.status">
                  {{ project.status }}
                </div>
                <div class="project-type-badge">
                  {{ project.projectType }}
                </div>
              </div>
            </div>
            <div class="project-info">
              <h3 class="project-title-comic">{{ project.title }}</h3>
              <p class="project-desc-comic">{{ project.shortDescription }}</p>
              
              <div class="project-meta">
                @if (project.startDate) {
                <span class="date-badge">
                  {{ project.startDate | date:'MMM yyyy' }}
                  @if (project.endDate) {
                    - {{ project.endDate | date:'MMM yyyy' }}
                  }
                </span>
                }
                @if (project.viewCount > 0) {
                <span class="views-badge">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                  {{ project.viewCount }} views
                </span>
                }
              </div>

              <div class="project-links-footer">
                @if (project.repoUrl) {
                <a [href]="project.repoUrl" target="_blank" class="link-badge" (click)="$event.stopPropagation()">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                  </svg>
                  Code
                </a>
                }
                @if (project.liveUrl) {
                <a [href]="project.liveUrl" target="_blank" class="link-badge" (click)="$event.stopPropagation()">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    <polyline points="15 3 21 3 21 9"></polyline>
                    <line x1="10" y1="14" x2="21" y2="3"></line>
                  </svg>
                  Live
                </a>
                }
              </div>
            </div>
          </div>
        </article>
        }
        @if ((projects$ | async)?.length === 0) {
        <div class="empty-panel">
          <div class="empty-illustration">
            <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="9" y1="9" x2="15" y2="15"></line>
              <line x1="15" y1="9" x2="9" y2="15"></line>
            </svg>
          </div>
          <h3>No Projects Found</h3>
          <p>Check back soon for exciting new projects!</p>
        </div>
        }
      </div>
    </div>
  </section>
</main>

<app-footer></app-footer>